services:
  flickstream:
    build: 
      context: .
      args:
        BUILDKIT_INLINE_CACHE: 1
    dns:
      - 8.8.8.8
      - 8.8.4.4
    ports:
      - "5000:5000"
    environment:
      - TMDB_API_KEY=${TMDB_API_KEY}
      - TMDB_ACCOUNT_ID=${TMDB_ACCOUNT_ID}
      - TMDB_AUTH_METHOD=bearer
      - MY_STREAMING_SERVICES=${MY_STREAMING_SERVICES:-}
      - USER_REGION=${USER_REGION:-US}
      - WATCHLIST_CACHE_HOURS=${WATCHLIST_CACHE_HOURS:-6}
      - PROVIDERS_CACHE_HOURS=${PROVIDERS_CACHE_HOURS:-24}
    restart: unless-stopped
